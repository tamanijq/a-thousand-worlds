<%
  /** Renders an illustrator if it exists and is not the same as the author. */
  const illustrator = book => book.illustrator && book.illustrator !== 'same'
    ? ', illustrated by ' + book.illustrator
    : '';
%>

<ul>
  <% data.books.forEach(function(book) { %>
  <li data-id="<%= book.id %>">
    <a href="#year=<%= book.year %>&book=<%= book.id %>">
      <div class="cover">
        <img
          alt=""
          src="./assets/covers/<%= book.isbn %>.<%= book.coverType %>"
        >
      </div>
      <div class="metadata">
        <div class="title"><%= book.title %></div>
        <div class="author">by <%= book.author %><%= illustrator(book) %></div>
      </div>
    </a>
  <% }); %>
</ul>